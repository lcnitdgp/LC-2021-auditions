(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{112:function(e,t,n){},114:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){},128:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){},139:function(e,t,n){},141:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),s=n(29),r=n.n(s),o=n(82),i=n(10),l=n(37),j="CREATE_FORM_ELEMENT",u="EDIT_FORM_ELEMENT",d="DELETE_FORM_ELEMENT",b="FETCH_FORM",h="FETCH_USER",O=n(76),p=n(83),m=n(18),x=n(5),f=Object(l.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===h?t.payload:e},adminForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(!t.payload||t.payload.error)return e;switch(t.type){case j:case u:return Object(x.a)(Object(x.a)({},e),{},Object(m.a)({},t.payload._id,t.payload));case d:var n=t.payload,a=(e[n],Object(O.a)(e,[n].map(p.a)));return a;case b:var c={};return t.payload.forEach((function(e){return c[e._id]=e})),c;default:return e}}}),v=n(11),g=n(14),y=n(15),C=n(16),k=n(17),N=n(9),w=n.n(N),F=n(22),S=n(13),L=n(77),G=n.n(L).a.create({baseURL:"",withCredentials:!0}),_=function(){return function(){var e=Object(v.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.get("/api/current");case 2:n=e.sent,console.log(n),t({type:h,payload:n.data});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},E=function(e,t){return function(){var n=Object(v.a)(w.a.mark((function n(a){var c;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("adding form element",e,t),n.next=3,G.post("/api/questionsadd",{content:e,type:t});case 3:c=n.sent,console.log(c),a({type:j,payload:c.data});case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},T=function(){return function(){var e=Object(v.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Fetching Form."),e.next=3,G.get("/api/questionslist");case 3:n=e.sent,console.log(n),t({type:b,payload:n.data.qList});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},R=n(147),I=n.p+"static/media/office_preload.8531f8e5.png",A=n(30),M=(n(112),n(1));n(114),n(115);var D=n(148),q=n(144),P=n(149),U=n(79),B=n(145),V=n(143);n(116),n(117),n.p;n(118);var H=function(e){Object(C.a)(n,e);var t=Object(k.a)(n);function n(e){return Object(g.a)(this,n),t.call(this,e)}return Object(y.a)(n,[{key:"render",value:function(){return Object(M.jsx)("div",{class:"Loader",children:Object(M.jsx)("img",{class:"image_loader",src:I})})}}]),n}(a.Component),Q=n(31),z=n.n(Q),K=function(e){Object(C.a)(n,e);var t=Object(k.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).renderSubmitButton=function(){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("div",{className:"wrap button-edit",onClick:function(){return a.onClickModal()},style:{marginBottom:"2rem"},children:Object(M.jsx)("a",{className:"btn",children:Object(M.jsx)("span",{className:"google_text",children:"SUBMIT"})})}),Object(M.jsxs)(D.a,{show:a.state.show,onHide:function(){return a.onClickModal()},centered:!0,children:[Object(M.jsx)(D.a.Header,{closeButton:!0,children:Object(M.jsx)(D.a.Title,{children:"Confirm Submission"})}),Object(M.jsx)(D.a.Body,{children:Object(M.jsxs)("div",{className:"horizontally_center_items",children:[Object(M.jsx)("p",{children:"Are you sure you want to submit the form ?"}),Object(M.jsx)("p",{children:"P.S - Once Submitted , your response cannot be edited ."})]})}),Object(M.jsx)(D.a.Footer,{children:Object(M.jsx)(q.a,{variant:"outline-dark",block:!0,onClick:function(){return a.onSubmit()},disabled:a.state.loading,children:a.state.loading?"Loading,,,":"SUBMIT"})})]})]})},a.state={response:{},show:!1,loading:!1,scroll:0},a}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=Object(v.a)(w.a.mark((function e(){var t,n,a,c=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.fetchForm();case 2:for(a in t={},console.log(this.props.form),n=function(e){var n=c.props.form[e],a=n.type,s=n._id,r=n.fields,o=n.options;"checkbox"===a||"subquestions"===a?(t[s]={},"checkbox"===a?o.forEach((function(e,n){t[s][n]=!1})):"subquestions"===a&&r.forEach((function(e,n){"range"===e.type?t[s][n]=e.options[0]:t[s][n]=""}))):t[s]="range"===a?o[0]:""},this.props.form)n(a);console.log(t),this.setState({response:t});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeState",value:function(e,t){this.setState(Object(x.a)(Object(x.a)({},this.state),{},{response:Object(x.a)(Object(x.a)({},this.state.response),{},Object(m.a)({},t,e))}))}},{key:"onChangeCheckBoxState",value:function(e,t){this.setState(Object(x.a)(Object(x.a)({},this.state),{},{response:Object(x.a)(Object(x.a)({},this.state.response),{},Object(m.a)({},t,Object(x.a)(Object(x.a)({},this.state.response[t]),{},Object(m.a)({},e,!this.state.response[t][e]))))}))}},{key:"onChangeSubQuestion",value:function(e,t,n){console.log(e,t,n),this.setState(Object(x.a)(Object(x.a)({},this.state),{},{response:Object(x.a)(Object(x.a)({},this.state.response),{},Object(m.a)({},t,Object(x.a)(Object(x.a)({},this.state.response[t]),{},Object(m.a)({},e,n))))}))}},{key:"handleClick",value:function(e){console.log(e),this[e].focus()}},{key:"renderForm",value:function(){var e=this;return Object.keys(this.props.form).map((function(t,n){var a=e.props.form[t],c=a.type,s=a._id,r=a.content,o=a.options,i=a.fields,l=a.image;return"text"===c?Object(M.jsxs)(P.a.Group,{controlId:"formGroup-".concat(s),children:[l?Object(M.jsx)("img",{class:"image",src:l}):"",Object(M.jsxs)(P.a.Label,{children:[n+1,") ",r]}),Object(M.jsx)(P.a.Control,{onChange:function(t){return e.onChangeState(t.target.value,s)},value:e.state.response[s]||"",ref:function(t){e["ref-".concat(s)]=t},onClick:function(){return e.handleClick("ref-".concat(s))}})]},s):"textarea"===c?Object(M.jsxs)(P.a.Group,{controlId:"formGroup-".concat(s),children:[l?Object(M.jsx)("img",{class:"image",src:l}):"",Object(M.jsxs)(P.a.Label,{children:[n+1,") ",r]}),Object(M.jsx)(P.a.Control,{as:"textarea",onChange:function(t){return e.onChangeState(t.target.value,s)},value:e.state.response[s]||"",ref:function(t){e["ref-".concat(s)]=t},onClick:function(){return e.handleClick("ref-".concat(s))}})]},s):"radio"===c?Object(M.jsx)("div",{className:"form_element",children:Object(M.jsxs)(P.a.Group,{controlId:"formGroup-".concat(s),children:[l?Object(M.jsx)("img",{class:"image",src:l}):"",Object(M.jsxs)(P.a.Label,{children:[n+1,") ",r]}),Object(M.jsx)(U.a,{children:o.map((function(t,n){return Object(M.jsx)(P.a.Check,{type:c,label:t,name:"radios-".concat(s),id:"radios-".concat(s,"-").concat(n),onChange:function(){return e.onChangeState(n,s)},ref:function(t){e["ref-".concat(s,"-").concat(n)]=t},onClick:function(){return e.handleClick("ref-".concat(s,"-").concat(n))}},"".concat(s,"-").concat(n))}))})]},s)},s):"checkbox"===c?Object(M.jsxs)(P.a.Group,{controlId:"formGroup-".concat(s),children:[l?Object(M.jsx)("img",{class:"image",src:l}):"",Object(M.jsxs)(P.a.Label,{children:[n+1,") ",r]}),Object(M.jsx)(U.a,{children:o.map((function(t,n){return Object(M.jsx)(P.a.Check,{type:c,label:t,name:"checkbox-".concat(s),id:"checkbox-".concat(s,"-").concat(n),onChange:function(){return e.onChangeCheckBoxState(n,s)},ref:function(t){e["ref-".concat(s,"-").concat(n)]=t},onClick:function(){return e.handleClick("ref-".concat(s,"-").concat(n))}},"".concat(s,"-").concat(n))}))})]},s):"range"===c?Object(M.jsxs)(P.a.Group,{controlId:"formGroup-".concat(s),children:[l?Object(M.jsx)("img",{class:"image",src:l}):"",Object(M.jsxs)(P.a.Label,{children:[n+1,") ",r]}),Object(M.jsxs)(B.a,{children:[Object(M.jsx)(U.a,{xs:8,sm:10,children:Object(M.jsx)(P.a.Control,{type:"range",custom:!0,value:e.state.response[s],onChange:function(t){e.handleClick("ref-".concat(s)),console.log("State changed."),e.onChangeState(t.target.value,s)},min:o[0],max:o[1],style:{marginTop:"1rem"},ref:function(t){e["ref-".concat(s)]=t}})}),Object(M.jsx)(U.a,{children:Object(M.jsx)(P.a.Control,{value:e.state.response[s],style:{marginTop:"0.5rem"},readOnly:!0})})]})]},s):"subquestions"===c?Object(M.jsxs)(P.a.Group,{controlId:"formGroup-".concat(s),children:[l?Object(M.jsx)("img",{class:"image",src:l}):"",Object(M.jsxs)(P.a.Label,{children:[n+1,") ",r]}),Object(M.jsx)("div",{style:{marginLeft:"0.1rem"},children:i.map((function(t,n){var a=t.content,c=t.type,r=t.options;return"text"===c?Object(M.jsx)(B.a,{children:Object(M.jsx)(U.a,{children:Object(M.jsxs)(P.a.Group,{children:[Object(M.jsxs)(P.a.Label,{children:[n+1,") ",a]}),Object(M.jsx)(P.a.Control,{onChange:function(t){return e.onChangeSubQuestion(n,s,t.target.value)},value:e.state.response[s][n],ref:function(t){e["ref-".concat(s,"-").concat(n)]=t},onClick:function(){return e.handleClick("ref-".concat(s,"-").concat(n))}},"".concat(s,"-").concat(n))]})})}):"textarea"===c?Object(M.jsx)(B.a,{children:Object(M.jsx)(U.a,{children:Object(M.jsxs)(P.a.Group,{children:[Object(M.jsxs)(P.a.Label,{children:[n+1,") ",a]}),Object(M.jsx)(P.a.Control,{as:c,onChange:function(t){return e.onChangeSubQuestion(n,s,t.target.value)},value:e.state.response[s][n],ref:function(t){e["ref-".concat(s,"-").concat(n)]=t},onClick:function(){return e.handleClick("ref-".concat(s,"-").concat(n))}},"".concat(s,"-").concat(n))]})})}):Object(M.jsx)(B.a,{children:Object(M.jsx)(U.a,{children:Object(M.jsxs)(P.a.Group,{as:B.a,controlId:"formBasicRangeCustom",children:[Object(M.jsxs)(U.a,{xs:8,sm:10,children:[Object(M.jsxs)(P.a.Label,{children:[n+1,") ",a]}),Object(M.jsx)(P.a.Control,{type:"range",custom:!0,min:r[0],max:r[1],onChange:function(t){e.handleClick("ref-".concat(s,"-").concat(n)),e.onChangeSubQuestion(n,s,t.target.value)},value:e.state.response[s][n],ref:function(t){e["ref-".concat(s,"-").concat(n)]=t}})]}),Object(M.jsx)(U.a,{children:Object(M.jsx)(P.a.Control,{style:{marginTop:"1rem"},value:e.state.response[s][n],readOnly:!0})})]},"".concat(s,"-").concat(n))})})}))})]},s):void 0}))}},{key:"onClickModal",value:function(){this.setState(Object(x.a)(Object(x.a)({},this.state),{},{show:!this.state.show}))}},{key:"onSubmit",value:function(){var e=Object(v.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState(Object(x.a)(Object(x.a)({},this.state),{},{loading:!0})),e.next=3,this.props.submitResponse(this.state.response);case 3:window.location.reload();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"submittedForm",value:function(){return Object(M.jsx)("div",{className:"form-group submitted",children:"You Have Submitted The Form :)"})}},{key:"render",value:function(){return Object.keys(this.state.response).length?this.props.user.filledForm?Object(M.jsx)("div",{className:"collect-response",children:this.submittedForm()}):(console.log(this),Object(M.jsx)(V.a,{style:{maxWidth:"700px"},children:Object(M.jsx)(P.a,{onSubmit:!0,children:Object(M.jsxs)("div",{class:"collect-response",children:[this.renderForm(),this.renderSubmitButton()]})})})):Object(M.jsx)(H,{})}}]),n}(a.Component),W={fetchForm:T,submitResponse:function(e){return function(){var t=Object(v.a)(w.a.mark((function t(n){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("submitting response :",e),t.next=3,G.post("/api/response",e);case 3:a=t.sent,console.log(a),n({type:h,payload:a.data});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},J=Object(i.b)((function(e){return{form:e.adminForm,user:e.auth}}),W)(K);n(122),n(123);var Y=function(e){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("div",{class:"test",contenteditable:!0,children:[Object(M.jsxs)("p",{children:[Object(M.jsx)("span",{class:"main-text-effect",children:"THE "}),Object(M.jsx)("span",{class:"main-text-effect",children:"LITERARY "}),Object(M.jsx)("span",{class:"main-text-effect",children:"CIRCLE "})]}),Object(M.jsx)("span",{class:"main-text-effect",children:"AUDITIONS"})]}),Object(M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",children:Object(M.jsxs)("defs",{children:[Object(M.jsxs)("filter",{id:"squiggly-0",children:[Object(M.jsx)("feTurbulence",{id:"turbulence",baseFrequency:"0.02",numOctaves:"3",result:"noise",seed:"0"}),Object(M.jsx)("feDisplacementMap",{id:"displacement",in:"SourceGraphic",in2:"noise",scale:"6"})]}),Object(M.jsxs)("filter",{id:"squiggly-1",children:[Object(M.jsx)("feTurbulence",{id:"turbulence",baseFrequency:"0.02",numOctaves:"3",result:"noise",seed:"1"}),Object(M.jsx)("feDisplacementMap",{in:"SourceGraphic",in2:"noise",scale:"8"})]}),Object(M.jsxs)("filter",{id:"squiggly-2",children:[Object(M.jsx)("feTurbulence",{id:"turbulence",baseFrequency:"0.02",numOctaves:"3",result:"noise",seed:"2"}),Object(M.jsx)("feDisplacementMap",{in:"SourceGraphic",in2:"noise",scale:"6"})]}),Object(M.jsxs)("filter",{id:"squiggly-3",children:[Object(M.jsx)("feTurbulence",{id:"turbulence",baseFrequency:"0.02",numOctaves:"3",result:"noise",seed:"3"}),Object(M.jsx)("feDisplacementMap",{in:"SourceGraphic",in2:"noise",scale:"8"})]}),Object(M.jsxs)("filter",{id:"squiggly-4",children:[Object(M.jsx)("feTurbulence",{id:"turbulence",baseFrequency:"0.02",numOctaves:"3",result:"noise",seed:"4"}),Object(M.jsx)("feDisplacementMap",{in:"SourceGraphic",in2:"noise",scale:"6"})]})]})})]})};var X={fetchUser:_},$=Object(i.b)((function(e){return console.log(e),{user:e.auth}}),X)((function(e){var t=Object(S.g)();Object(a.useEffect)((function(){z()(window).ready((function(){z()(".boton").wrapInner("<div class=botontext></div>"),z()(".botontext").clone().appendTo(z()(".boton")),z()(".boton").append('<span class="twist"></span><span class="twist"></span><span class="twist"></span><span class="twist"></span>'),z()(".twist").css("width","25%").css("width","+=3px")}))}),[]);var n=function(){var t=Object(v.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("The user has to signUp."),window.open("".concat("","/auth/google"),"_self"),t.next=4,e.fetchUser();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return console.log(e.user),Object(M.jsxs)("div",{className:"Landing",children:[Object(M.jsx)(Y,{}),e.user.authenticated?Object(M.jsx)(M.Fragment,{children:Object(M.jsx)("a",{onClick:function(e){console.log("Clicked."),setTimeout((function(){return t.push("/profile/edit")}),1e3)},className:"boton",children:"Join Us"})}):Object(M.jsx)("div",{class:"wrap",children:Object(M.jsxs)("a",{href:"#",class:"btn",onClick:function(){return n()},children:[Object(M.jsx)("span",{className:"svgIcon t-popup-svg",children:Object(M.jsx)("svg",{className:"svgIcon-use",width:"40",height:"37",viewBox:"0 0 25 25",children:Object(M.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[Object(M.jsx)("path",{d:"M20.66 12.693c0-.603-.054-1.182-.155-1.738H12.5v3.287h4.575a3.91 3.91 0 0 1-1.697 2.566v2.133h2.747c1.608-1.48 2.535-3.65 2.535-6.24z",fill:"#4285F4"}),Object(M.jsx)("path",{d:"M12.5 21c2.295 0 4.22-.76 5.625-2.06l-2.747-2.132c-.76.51-1.734.81-2.878.81-2.214 0-4.088-1.494-4.756-3.503h-2.84v2.202A8.498 8.498 0 0 0 12.5 21z",fill:"#34A853"}),Object(M.jsx)("path",{d:"M7.744 14.115c-.17-.51-.267-1.055-.267-1.615s.097-1.105.267-1.615V8.683h-2.84A8.488 8.488 0 0 0 4 12.5c0 1.372.328 2.67.904 3.817l2.84-2.202z",fill:"#FBBC05"}),Object(M.jsx)("path",{d:"M12.5 7.38c1.248 0 2.368.43 3.25 1.272l2.437-2.438C16.715 4.842 14.79 4 12.5 4a8.497 8.497 0 0 0-7.596 4.683l2.84 2.202c.668-2.01 2.542-3.504 4.756-3.504z",fill:"#EA4335"})]})})}),Object(M.jsx)("span",{className:"google_text",children:"Google Sign In"})]})})]})})),Z=n(23),ee=n(150),te=n(146),ne=(n(128),function(e){Object(C.a)(n,e);var t=Object(k.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).state={value:a.props.value,imageLabel:"Click Here To Add An Image.",selectValue:"range"},a}return Object(y.a)(n,[{key:"onClickAddOption",value:function(){this.setState((function(e){return Object(x.a)(Object(x.a)({},e),{},{value:Object(x.a)(Object(x.a)({},e.value),{},{options:[].concat(Object(A.a)(e.value.options),["Add Your Option Name Here"])})})}))}},{key:"onClickDeleteOption",value:function(e){var t=Object(A.a)(this.state.value.options);t.splice(e,1),this.setState((function(e){return Object(x.a)(Object(x.a)({},e),{},{value:Object(x.a)(Object(x.a)({},e.value),{},{options:t})})}))}},{key:"onChangeOptionName",value:function(e,t){var n=Object(A.a)(this.state.value.options);n[t]=e;this.setState((function(e){return Object(x.a)(Object(x.a)({},e),{},{value:Object(x.a)(Object(x.a)({},e.value),{},{options:n})})}))}},{key:"addToFields",value:function(){var e=[];"range"===this.state.selectValue&&(e=[0,0]),this.setState(Object(x.a)(Object(x.a)({},this.state),{},{value:Object(x.a)(Object(x.a)({},this.state.value),{},{fields:[].concat(Object(A.a)(this.state.value.fields),[{content:"Add Question Label",type:this.state.selectValue,options:e}])})}))}},{key:"onFieldContentChange",value:function(e,t){var n=Object(A.a)(this.state.value.fields);n[t].content=e,this.setState(Object(x.a)(Object(x.a)({},this.state),{},{value:Object(x.a)(Object(x.a)({},this.state.value),{},{fields:n})}))}},{key:"onFieldOptionsChange",value:function(e,t,n){var a=Object(A.a)(this.state.value.fields);a[t].options[n]=e,this.setState(Object(x.a)(Object(x.a)({},this.state),{},{value:Object(x.a)(Object(x.a)({},this.state.value),{},{fields:a})}))}},{key:"onFieldRemoveClick",value:function(e){var t=Object(A.a)(this.state.value.fields);t.splice(e,1),this.setState(Object(x.a)(Object(x.a)({},this.state),{},{value:Object(x.a)(Object(x.a)({},this.state.value),{},{fields:t})}))}},{key:"renderSubQuestionField",value:function(e,t){var n=this,a=e.type;return Object(M.jsxs)("div",{className:"subquestion_field",children:[Object(M.jsxs)(P.a.Group,{as:B.a,controlId:"formPlaintype",children:[Object(M.jsx)(P.a.Label,{column:!0,sm:"2",children:"Type"}),Object(M.jsx)(U.a,{children:Object(M.jsx)(P.a.Control,{value:a,readOnly:!0})})]}),Object(M.jsxs)(P.a.Group,{as:B.a,controlId:"formPlaintextPassword",children:[Object(M.jsx)(P.a.Label,{column:!0,sm:"2",children:"Content"}),Object(M.jsx)(U.a,{children:Object(M.jsx)(P.a.Control,{value:e.content,onChange:function(e){return n.onFieldContentChange(e.target.value,t)}})})]}),"range"===a?Object(M.jsxs)(P.a.Row,{children:[Object(M.jsxs)(P.a.Group,{as:U.a,children:[Object(M.jsx)(P.a.Label,{column:!0,sm:"2",children:"Minimum"}),Object(M.jsx)(U.a,{children:Object(M.jsx)(P.a.Control,{value:e.options[0],type:"Number",onChange:function(e){return n.onFieldOptionsChange(e.target.value,t,0)}})})]}),Object(M.jsxs)(P.a.Group,{as:U.a,controlId:"formPlaintextPassword",children:[Object(M.jsx)(P.a.Label,{column:!0,sm:"2",children:"Maximum"}),Object(M.jsx)(U.a,{children:Object(M.jsx)(P.a.Control,{value:e.options[1],type:"Number",onChange:function(e){return n.onFieldOptionsChange(e.target.value,t,1)}})})]})]}):"",Object(M.jsx)(P.a.Group,{as:B.a,controlId:"formPlaintype",children:Object(M.jsx)(q.a,{block:!0,variant:"outline-danger",onClick:function(){return n.onFieldRemoveClick(t)},children:"Delete"})})]})}},{key:"editComponent",value:function(){var e=this,t=this.state.value.type;if("text"!==t&&"textarea"!=t){if("radio"===t||"checkbox"===t)return Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(P.a.Group,{as:B.a,children:[Object(M.jsx)(P.a.Label,{as:"legend",column:!0,sm:2,children:"Options"}),Object(M.jsxs)(U.a,{sm:10,children:[this.state.value.options.map((function(t,n){return Object(M.jsxs)(P.a.Row,{children:[Object(M.jsx)(P.a.Group,{as:U.a,xs:7,sm:8,md:9,lg:10,children:Object(M.jsx)(P.a.Control,{value:t,onChange:function(t){e.onChangeOptionName(t.target.value,n)}})}),Object(M.jsx)(P.a.Group,{as:U.a,children:Object(M.jsx)(q.a,{variant:"outline-dark",onClick:function(){return e.onClickDeleteOption(n)},children:"Delete"})})]})})),Object(M.jsx)(P.a.Row,{children:Object(M.jsx)(P.a.Group,{as:U.a,children:Object(M.jsx)(q.a,{variant:"outline-dark",onClick:function(){return e.onClickAddOption()},block:!0,children:"Add Option"})})})]})]})});if("range"===t){var n=this.state.value.options;return Object(M.jsxs)(P.a.Group,{as:B.a,children:[Object(M.jsx)(P.a.Label,{as:"legend",column:!0,sm:2,children:"Options"}),Object(M.jsxs)(B.a,{sm:10,children:[Object(M.jsxs)(P.a.Group,{as:U.a,children:[Object(M.jsx)(P.a.Label,{as:"legend",column:!0,children:"Minimum Value"}),Object(M.jsx)(P.a.Control,{value:n[0],type:"Number",onChange:function(t){return e.onChangeOptionName(t.target.value,0)}})]}),Object(M.jsxs)(P.a.Group,{as:U.a,children:[Object(M.jsx)(P.a.Label,{column:!0,as:"legend",children:"Maximum Value"}),Object(M.jsx)(P.a.Control,{value:n[1],type:"Number",onChange:function(t){e.onChangeOptionName(t.target.value,1)}})]})]})]})}return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(P.a.Group,{as:B.a,children:[Object(M.jsx)(P.a.Label,{column:!0,sm:"2",children:"Sub-Questions"}),Object(M.jsx)(U.a,{children:this.state.value.fields.map((function(t,n){return e.renderSubQuestionField(t,n)}))})]}),Object(M.jsxs)(P.a.Group,{as:B.a,children:[Object(M.jsx)(P.a.Label,{column:!0,sm:"2",children:"Add Sub-Question"}),Object(M.jsx)(U.a,{children:Object(M.jsxs)(P.a.Row,{children:[Object(M.jsx)(P.a.Group,{as:U.a,children:Object(M.jsxs)(P.a.Control,{as:"select",value:this.state.selectValue,onChange:function(t){return e.setState(Object(x.a)(Object(x.a)({},e.state),{},{selectValue:t.target.value}))},children:[Object(M.jsx)("option",{children:"range"}),Object(M.jsx)("option",{children:"text"}),Object(M.jsx)("option",{children:"textarea"})]})}),Object(M.jsx)(P.a.Group,{as:U.a,children:Object(M.jsx)(q.a,{variant:"outline-dark",onClick:function(){return e.addToFields()},children:"Add"})})]})})]})]})}}},{key:"onClickDelete",value:function(){this.props.deleteFormElement(this.state.value._id)}},{key:"onClickSave",value:function(){console.log(this.state.value),this.props.editFormElement(this.state.value)}},{key:"onFileUpload",value:function(e){var t=this,n=new FileReader,a=e.target.files[0];e.target.files[0].name;n.onloadend=function(){t.setState(Object(x.a)(Object(x.a)({},t.state),{},{value:Object(x.a)(Object(x.a)({},t.state.value),{},{image:n.result})}))},n.readAsDataURL(a)}},{key:"render",value:function(){var e=this,t=this.state.value,n=t.content,a=t._id;return Object(M.jsx)("div",{className:"EditableComponent",children:Object(M.jsxs)(P.a,{children:[Object(M.jsxs)(P.a.Group,{as:B.a,controlId:"formGroup-".concat(a),children:[Object(M.jsx)(P.a.Label,{column:!0,sm:"2",children:"Label"}),Object(M.jsx)(U.a,{children:Object(M.jsx)(P.a.Control,{value:n,onChange:function(t){e.setState(Object(x.a)(Object(x.a)({},e.state),{},{value:Object(x.a)(Object(x.a)({},e.state.value),{},{content:t.target.value})}))}})})]}),Object(M.jsxs)(P.a.Group,{as:B.a,controlId:"formGroup-".concat(a),children:[Object(M.jsx)(P.a.Label,{column:!0,sm:"2",children:"Image"}),Object(M.jsxs)(U.a,{children:[this.state.value.image?Object(M.jsx)("div",{className:"text-center",children:Object(M.jsx)("img",{src:this.state.value.image,className:"image"})}):"",Object(M.jsx)(P.a.File,{id:"custom-file-".concat(a),label:this.state.imageLabel,custom:!0,accept:"image/x-png,image/jpg,image/jpeg",onChange:function(t){return e.onFileUpload(t)}})]})]}),this.editComponent(),Object(M.jsx)(P.a.Group,{as:B.a,children:Object(M.jsxs)(U.a,{sm:{span:10,offset:2},children:[Object(M.jsx)(q.a,{block:!0,onClick:function(){return e.onClickDelete()},variant:"danger",children:"Delete"}),Object(M.jsx)(q.a,{block:!0,onClick:function(){return e.onClickSave()},variant:"success",children:"Save"})]})})]})})}}]),n}(a.Component)),ae={editFormElement:function(e){return function(){var t=Object(v.a)(w.a.mark((function t(n){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("editing form element:",e),t.next=3,G.put("/api/questionsupdate",e);case 3:a=t.sent,console.log(a),n({type:u,payload:a.data});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},deleteFormElement:function(e){return function(){var t=Object(v.a)(w.a.mark((function t(n){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("deleting form element : ",e),t.next=3,G.delete("/api/questionsdelete",{data:{id:e}});case 3:a=t.sent,console.log(a),n({type:d,payload:a.data});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},ce=Object(i.b)(null,ae)(ne),se=(n(129),n(130),function(e){Object(C.a)(n,e);var t=Object(k.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).state={range:null,ranges:{}},a}return Object(y.a)(n,[{key:"renderComponent",value:function(){var e=this,t=this.props.value,n=t.type,a=(t.content,t.options),c=t._id,s=t.fields;return"textarea"===n?Object(M.jsx)(P.a.Group,{children:Object(M.jsx)(P.a.Control,{as:n})}):"text"===n?Object(M.jsx)(P.a.Group,{children:Object(M.jsx)(P.a.Control,{})}):"radio"===n||"checkbox"===n?Object(M.jsx)(P.a.Group,{children:Object(M.jsx)(U.a,{children:a.map((function(e,t){return Object(M.jsx)(P.a.Check,{type:n,label:e,name:"radio"===n?"form-".concat(c):"form-".concat(c,"-").concat(t)})}))})}):"range"===n?Object(M.jsxs)(P.a.Group,{as:B.a,controlId:"formBasicRangeCustom",children:[Object(M.jsxs)(U.a,{xs:8,sm:10,children:[Object(M.jsx)(P.a.Label,{children:"Range"}),Object(M.jsx)(P.a.Control,{type:"range",custom:!0,value:this.state.range||a[0],onChange:function(t){return e.setState({range:t.target.value})},min:a[0],max:a[1]})]}),Object(M.jsx)(U.a,{children:Object(M.jsx)(P.a.Control,{value:this.state.range||a[0],style:{marginTop:"1rem"}})})]}):Object(M.jsx)(M.Fragment,{children:s.map((function(t,n){var a=t.content,c=t.type,s=t.options;return"text"===c?Object(M.jsxs)(B.a,{children:[Object(M.jsxs)(U.a,{xs:1,children:["Q",n+1,")"]}),Object(M.jsx)(U.a,{children:Object(M.jsxs)(P.a.Group,{children:[Object(M.jsx)(P.a.Label,{children:a}),Object(M.jsx)(P.a.Control,{})]})})]}):"textarea"===c?Object(M.jsxs)(B.a,{children:[Object(M.jsxs)(U.a,{xs:1,children:["Q",n+1,")"]}),Object(M.jsx)(U.a,{children:Object(M.jsxs)(P.a.Group,{children:[Object(M.jsx)(P.a.Label,{children:a}),Object(M.jsx)(P.a.Control,{as:c})]})})]}):Object(M.jsxs)(B.a,{children:[Object(M.jsxs)(U.a,{xs:1,children:["Q",n+1,")"]}),Object(M.jsx)(U.a,{children:Object(M.jsxs)(P.a.Group,{as:B.a,controlId:"formBasicRangeCustom",children:[Object(M.jsxs)(U.a,{xs:8,sm:10,children:[Object(M.jsx)(P.a.Label,{children:"Range"}),Object(M.jsx)(P.a.Control,{type:"range",custom:!0,value:e.state.ranges[n]||s[0],onChange:function(t){return e.setState(Object(x.a)(Object(x.a)({},e.state),{},{ranges:Object(x.a)(Object(x.a)({},e.state.ranges),{},Object(m.a)({},n,t.target.value))}))},min:s[0],max:s[1]})]}),Object(M.jsx)(U.a,{children:Object(M.jsx)(P.a.Control,{value:e.state.ranges[n]||s[0],style:{marginTop:"1rem"}})})]})})]})}))})}},{key:"render",value:function(){var e=this.props.value,t=e.image,n=e.content;return Object(M.jsxs)("div",{className:"render_component",children:[t?Object(M.jsx)("img",{class:"image",src:t}):"",Object(M.jsx)(P.a.Label,{children:n}),this.renderComponent()]})}}]),n}(a.Component));n(131);var re=function(e){var t=e.value,n=Object(a.useState)("home"),c=Object(Z.a)(n,2),s=c[0],r=c[1];return Object(M.jsx)("div",{className:"form-component",children:Object(M.jsxs)(ee.a,{id:"controlled-tab-example",activeKey:s,onSelect:function(e){return r(e)},children:[Object(M.jsx)(te.a,{eventKey:"home",title:"Component",className:"form-group",children:Object(M.jsx)(se,{value:t})}),Object(M.jsx)(te.a,{eventKey:"edit",title:"Edit",className:"form-group",children:Object(M.jsx)(ce,{value:t})})]})})},oe=function(e){Object(C.a)(n,e);var t=Object(k.a)(n);function n(){var e;Object(g.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).renderFormElements=function(){var t=[];for(var n in e.props.adminForm){var a=e.props.adminForm[n];t.push(Object(M.jsx)(U.a,{children:Object(M.jsx)(re,{value:a},a._id)}))}return t},e}return Object(y.a)(n,[{key:"render",value:function(){return Object(M.jsx)("div",{className:"render-form",children:this.renderFormElements()})}}]),n}(a.Component),ie=Object(i.b)((function(e){return{adminForm:e.adminForm}}),null)(oe),le=(n(133),["radio","checkbox","subquestions","text","textarea","range"]),je=function(e){Object(C.a)(n,e);var t=Object(k.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"onClickHandler",value:function(e){this.props.createFormElement("Please Add A Question Label",e)}},{key:"render",value:function(){var e=this;return Object(M.jsx)("div",{class:"add-form-elements",children:Object(M.jsx)(B.a,{children:le.map((function(t,n){return Object(M.jsx)(U.a,{sm:6,md:6,children:Object(M.jsx)(q.a,{variant:"light",onClick:function(){return e.onClickHandler("".concat(t))},block:!0,children:t})})}))})})}}]),n}(a.Component),ue={createFormElement:E},de=Object(i.b)(null,ue)(je),be=(n(134),function(e){Object(C.a)(n,e);var t=Object(k.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchForm()}},{key:"render",value:function(){return console.log("Render admin form."),Object(M.jsx)(V.a,{style:{maxWidth:"700px"},children:Object(M.jsxs)("div",{class:"render-admin-form",children:[Object(M.jsx)(de,{}),Object(M.jsx)(ie,{})]})})}}]),n}(a.Component)),he={createFormElement:E,fetchForm:T};Object(i.b)(null,he)(be);var Oe=Object(i.b)((function(e){return{}}),{})((function(e){var t=Object(a.useState)(!1),n=Object(Z.a)(t,2),c=n[0],s=n[1],r=function(){return s(!1)};return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(q.a,{disabled:e.isadmin,onClick:function(){return s(!0)},variant:"outline-dark",block:!0,children:"Make Admin"}),Object(M.jsxs)(D.a,{show:c,onHide:r,centered:!0,children:[Object(M.jsx)(D.a.Header,{closeButton:!0,children:Object(M.jsx)(D.a.Title,{children:"Admin Access Confirmation"})}),Object(M.jsxs)(D.a.Body,{children:["Are you sure you want to provide admin access to ",Object(M.jsx)("b",{children:e.name}),"?"]}),Object(M.jsx)(D.a.Footer,{children:Object(M.jsx)(q.a,{block:!0,variant:"outline-dark",onClick:Object(v.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.id,e.index),t.next=3,G.post("".concat("","/api/admin"),{id:e.id});case 3:e.onMakeAdmin(e.id),r();case 5:case"end":return t.stop()}}),t)}))),children:"Save Changes"})})]})]})})),pe=(n(135),function(e){Object(C.a)(n,e);var t=Object(k.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).state={list:null,error:null},a}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=Object(v.a)(w.a.mark((function e(){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.get("/api/participants");case 3:t=e.sent,n={},t.data.uList.forEach((function(e){return n[e._id]=e})),this.setState(Object(x.a)(Object(x.a)({},this.state),{},{list:n})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"onMakeAdmin",value:function(e){this.setState(Object(x.a)(Object(x.a)({},this.state),{},{list:Object(x.a)(Object(x.a)({},this.state.list),{},Object(m.a)({},e,Object(x.a)(Object(x.a)({},this.state.list[e]),{},{isadmin:!0})))}))}},{key:"renderParticipants",value:function(e){var t=this;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("p",{className:"responses-tab-body",children:["Number Of Responses : ",Object.keys(e).length]}),Object.entries(e).map((function(e,n){var a=Object(Z.a)(e,2),c=a[0],s=a[1];console.log(s);var r=s.name,o=s.isadmin,i=s.email;return Object(M.jsx)("div",{className:"element_card form-group",children:Object(M.jsx)("div",{className:"element_card_body",children:Object(M.jsxs)(B.a,{children:[Object(M.jsx)(U.a,{xs:12,sm:8,children:Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("b",{children:"Name"})," : ",r]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("b",{children:"Email"}),": ",i]})]})}),Object(M.jsx)(U.a,{xs:12,sm:4,children:Object(M.jsxs)("div",{className:"element_card_buttons",children:[Object(M.jsx)(Oe,{id:c,isadmin:o,name:r,onMakeAdmin:function(e){return t.onMakeAdmin(e)}}),Object(M.jsx)(F.b,{to:"/admin/responses/".concat(c),className:"btn btn-block btn-outline-dark",role:"button",children:"View Response"})]})})]})})},c)}))]})}},{key:"renderResponses",value:function(){var e={},t={},n={};for(var a in this.state.list)this.state.list[a].isadmin?n[a]=this.state.list[a]:this.state.list[a].responses?e[a]=this.state.list[a]:t[a]=this.state.list[a];return console.log("Admins",n),console.log("ParticipantsSubmitted",e),console.log("participantsNotSubmitted",t),Object(M.jsx)("div",{className:"responses-form-component",children:Object(M.jsxs)(ee.a,{transition:!1,id:"admin-tab",className:"mb-3",children:[Object(M.jsx)(te.a,{eventKey:"Submitted",title:"Submitted",defaultActiveKey:!0,children:this.renderParticipants(e)}),Object(M.jsx)(te.a,{eventKey:"Not Submitted",title:"Not Submitted",children:this.renderParticipants(t)}),Object(M.jsx)(te.a,{eventKey:"Admins",title:"Admins",children:this.renderParticipants(n)})]})})}},{key:"render",value:function(){return console.log(this.state.list),this.state.list?Object(M.jsxs)(V.a,{style:{maxWidth:"720px",justifyContent:"flex-start"},children:[Object(M.jsxs)("div",{className:"Responses",children:[Object(M.jsx)("p",{className:"responses_title",children:"Responses"}),Object(M.jsxs)("p",{className:"responses_body",children:["Total Number Of Responses :",this.state.list?Object.keys(this.state.list).length:0]})]}),this.renderResponses()]}):Object(M.jsx)(H,{})}}]),n}(a.Component)),me=(n(136),n.p+"static/media/lc.0c12d204.png"),xe=n(40),fe=n(66),ve=n(45),ge=n(56),ye=(ve.a,xe.a,ge.a,xe.b,ge.b,n(0)),Ce=[{title:"Home",path:"/",icon:Object(M.jsx)(ve.a,{}),cName:"nav-text"},{title:"Profile",path:"/profile",icon:Object(M.jsx)(xe.a,{}),cName:"nav-text"},{title:"Questions",path:"/form",icon:Object(M.jsx)(fe.a,{}),cName:"nav-text"}],ke={title:"Logout",path:"/",icon:Object(M.jsx)(fe.b,{}),cName:"nav-text"},Ne=[{title:"All Responses",path:"/admin",icon:Object(M.jsx)(xe.b,{}),cName:"nav-text"}];var we={logOutUser:function(){return function(){var e=Object(v.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.get("/auth/logout");case 2:n=e.sent,console.log(n),t({type:h,payload:n.data});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Fe=Object(i.b)((function(e){return{user:e.auth}}),we)((function(e){var t=Object(a.useState)(!1),n=Object(Z.a)(t,2),c=n[0],s=n[1],r=(window.location.pathname,function(){s(!c)}),o=e.user,i=o.authenticated?o.isadmin?[].concat(Ce,Ne,[ke]):[].concat(Ce,[ke]):[];return console.log(o,c),Object(M.jsx)("div",{class:"Navbar",children:Object(M.jsxs)(ye.b.Provider,{value:{color:"#fff"},children:[Object(M.jsxs)("div",{className:"navbar",children:[Object(M.jsx)(F.b,{to:"/",children:Object(M.jsx)("img",{src:me,className:"image"})}),o.authenticated?Object(M.jsx)("div",{class:"col",onClick:function(e){return setTimeout((function(){r()}),400)},children:Object(M.jsxs)("div",{class:"con",children:[Object(M.jsx)("div",{class:"bar arrow-top-r"}),Object(M.jsx)("div",{class:"bar arrow-middle-r"}),Object(M.jsx)("div",{class:"bar arrow-bottom-r"})]})}):null]}),Object(M.jsx)("nav",{className:c?"nav-menu active":"nav-menu",children:Object(M.jsxs)("ul",{className:"nav-menu-items",onClick:r,children:[Object(M.jsx)("li",{className:"navbar-toggle",children:Object(M.jsx)(F.b,{to:"#",className:"menu-bars",children:Object(M.jsx)(ve.b,{})})}),Object(M.jsxs)("li",{className:"nav-image",children:[Object(M.jsx)("div",{className:"horizontally_center_items nav-image-main",children:Object(M.jsx)("img",{src:o.image})}),Object(M.jsx)(B.a,{style:{justifyContent:"center",margin:"5px 10px"},children:Object(M.jsx)("div",{className:"horizontally_center_items nav-image-name",children:o.name})})]},"image"),i.map((function(t,n){return Object(M.jsx)("li",{className:t.cName,children:Object(M.jsxs)(F.b,{to:t.path,onClick:function(n){"Logout"===t.title&&e.logOutUser()},children:[t.icon,Object(M.jsx)("span",{children:t.title})]})},n)}))]})})]})})})),Se=(n(137),function(e){Object(C.a)(n,e);var t=Object(k.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).state={loading:!0},a}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=Object(v.a)(w.a.mark((function e(){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==Object.keys(this.props.form).length){e.next=4;break}return console.log("The form has not been pulled"),e.next=4,this.props.fetchForm();case 4:return t=this.props.match.params.id,e.next=7,G.get("/api/individual/".concat(t));case 7:n=e.sent,console.log(n),this.setState(Object(x.a)(Object(x.a)({},n.data),{},{loading:!1}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderForm",value:function(){var e=this;return Object.keys(this.props.form).map((function(t,n){var a=e.props.form[t],c=a.type,s=a._id,r=a.content,o=a.options,i=a.fields,l=a.image;return"text"===c?Object(M.jsxs)(P.a.Group,{controlId:"formGroup-".concat(s,"-").concat(n),children:[l?Object(M.jsx)("img",{class:"image",src:l}):"",Object(M.jsxs)(P.a.Label,{children:[n+1,") ",r]}),Object(M.jsx)(P.a.Control,{defaultValue:e.state.responses[s]})]},s):"textarea"===c?Object(M.jsxs)(P.a.Group,{controlId:"formGroup-".concat(s,"-").concat(n),children:[l?Object(M.jsx)("img",{class:"image",src:l}):"",Object(M.jsxs)(P.a.Label,{children:[n+1,") ",r]}),Object(M.jsx)(P.a.Control,{as:"textarea",defaultValue:e.state.responses[s],readOnly:!0})]},s):"radio"===c?Object(M.jsxs)(P.a.Group,{children:[l?Object(M.jsx)("img",{class:"image",src:l}):"",Object(M.jsxs)(P.a.Label,{children:[n+1,") ",r]}),Object(M.jsx)(U.a,{children:o.map((function(t,n){return Object(M.jsx)(P.a.Check,{type:c,label:t,name:"radios-".concat(s),id:"radios-".concat(s,"-").concat(n),checked:n===e.state.responses[s],readOnly:!0},"".concat(s,"-").concat(n))}))})]},s):"checkbox"===c?Object(M.jsxs)(P.a.Group,{children:[l?Object(M.jsx)("img",{class:"image",src:l}):"",Object(M.jsxs)(P.a.Label,{children:[n+1,") ",r]}),Object(M.jsx)(U.a,{children:o.map((function(t,n){return Object(M.jsx)(P.a.Check,{type:c,label:t,name:"radios-".concat(s),id:"radios-".concat(s,"-").concat(n),checked:e.state.responses[s][n],readOnly:!0},"".concat(s,"-").concat(n))}))})]},s):"range"===c?Object(M.jsxs)(P.a.Group,{controlId:"formBasicRangeCustom",children:[l?Object(M.jsx)("img",{class:"image",src:l}):"",Object(M.jsxs)(P.a.Label,{children:[n+1,") ",r]}),Object(M.jsxs)(B.a,{children:[Object(M.jsxs)(U.a,{xs:8,sm:10,children:[Object(M.jsx)(P.a.Label,{children:"Range"}),Object(M.jsx)(P.a.Control,{type:"range",custom:!0,defaultValue:e.state.responses[s],disabled:!0,min:o[0],max:o[1]})]}),Object(M.jsx)(U.a,{children:Object(M.jsx)(P.a.Control,{defaultValue:e.state.responses[s],style:{marginTop:"1rem"}})})]})]},s):"subquestions"===c?Object(M.jsxs)(P.a.Group,{controlId:"formBasicRangeCustom",children:[l?Object(M.jsx)("img",{class:"image",src:l}):"",Object(M.jsxs)(P.a.Label,{children:[n+1,") ",r]}),Object(M.jsx)("div",{style:{marginLeft:"1rem"},children:i.map((function(t,n){var a=t.content,c=t.type,r=t.options;return"text"===c?Object(M.jsx)(B.a,{children:Object(M.jsx)(U.a,{children:Object(M.jsxs)(P.a.Group,{children:[Object(M.jsxs)(P.a.Label,{children:[n+1,")",a]}),Object(M.jsx)(P.a.Control,{defaultValue:e.state.responses[s][n]})]})})},"".concat(s,"-").concat(n)):"textarea"===c?Object(M.jsx)(B.a,{children:Object(M.jsx)(U.a,{children:Object(M.jsxs)(P.a.Group,{children:[Object(M.jsxs)(P.a.Label,{children:[n+1,")",a]}),Object(M.jsx)(P.a.Control,{as:c,defaultValue:e.state.responses[s][n]})]})})},"".concat(s,"-").concat(n)):Object(M.jsx)(B.a,{children:Object(M.jsx)(U.a,{children:Object(M.jsxs)(P.a.Group,{as:B.a,controlId:"formBasicRangeCustom",children:[Object(M.jsxs)(U.a,{xs:8,sm:10,children:[Object(M.jsxs)(P.a.Label,{children:[n+1,")",a]}),Object(M.jsx)(P.a.Control,{type:"range",custom:!0,min:r[0],max:r[1],defaultValue:e.state.responses[s][n],disabled:!0})]}),Object(M.jsx)(U.a,{children:Object(M.jsx)(P.a.Control,{style:{marginTop:"1rem"},defaultValue:e.state.responses[s][n]})})]})})},"".concat(s,"-").concat(n))}))})]},s):void 0}))}},{key:"capitalizeFirstLetter",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"renderInfo",value:function(){var e=this,t=this.state,n=t.name,a=t.phone,c=t.branch,s=t.email,r=t.photo,o=[{name:n},{phone:a},{roll:t.roll},{branch:c},{email:s},{photo:r}];return console.log(o),Object(M.jsx)(P.a,{children:o.map((function(t,n){var a=Object.keys(t)[0];return console.log(t,a),Object(M.jsx)(P.a.Group,{children:Object(M.jsxs)(P.a.Label,{children:[Object(M.jsx)("p",{className:"form-main-heading",children:e.capitalizeFirstLetter(a)}),Object(M.jsx)("div",{className:"form-main-body",children:"photo"===a?Object(M.jsx)("img",{src:t[a],className:"response_image"}):Object(M.jsx)("p",{children:t[a]||"The user has not filled this field"})})]})})}))})}},{key:"render",value:function(){return console.log("single form called",this.state),this.state.loading?Object(M.jsx)(H,{}):this.state._id?Object(M.jsx)("div",{className:"single-response",children:Object(M.jsxs)(V.a,{children:[Object(M.jsx)("div",{className:"main_heading",children:"Personal Information"}),this.renderInfo(),Object(M.jsx)("div",{className:"main_heading",children:"Response"}),this.state.error?Object(M.jsx)(M.Fragment,{children:Object(M.jsx)("div",{className:"form-group",children:this.state.error})}):this.renderForm()]})}):Object(M.jsx)("div",{className:"form-group",children:"This user does not exist ."})}}]),n}(a.Component)),Le={fetchForm:T},Ge=Object(i.b)((function(e){return{form:e.adminForm}}),Le)(Se);n(138);var _e=Object(i.b)((function(e){return{user:e.auth}}),null)((function(e){var t=Object(a.useState)({}),n=Object(Z.a)(t,2),c=n[0],s=n[1];Object(S.g)(),Object(a.useEffect)((function(){var e=!0;return G.get("/api/profile").then((function(t){return e&&s(t.data),null})).catch((function(e){return console.log(e)})),function(){return e=!1}}),[]);var r=Object.keys(c);if(!r.length)return Object(M.jsx)(H,{});var o=e.user;return console.log(o),Object(M.jsxs)("div",{class:"Profile",children:[Object(M.jsx)(U.a,{children:Object(M.jsx)("div",{className:"profile_photo",children:Object(M.jsx)("img",{src:o.image,className:"photo"})})}),r.map((function(e,t){var n,a="".concat((n=e,n.charAt(0).toUpperCase()+n.slice(1))).concat("roll"===e||"phone"===e?" Number":"",":");return Object(M.jsxs)(U.a,{children:[Object(M.jsx)(P.a.Group,{controlId:e,children:Object(M.jsxs)("div",{className:"edit_form_element",children:[Object(M.jsx)("div",{className:"title",children:Object(M.jsx)("p",{children:a})}),Object(M.jsx)("div",{className:"main_name",children:Object(M.jsx)("p",{children:c[e]})})]})}),Object(M.jsx)("hr",{})]},t)})),Object(M.jsx)("div",{class:"wrap button-edit",children:Object(M.jsx)(F.b,{className:"btn",to:{pathname:"/profile/edit",state:c},children:Object(M.jsx)("span",{className:"google_text",children:"EDIT"})})})]})}));n(139),n(140);var Ee={updateUser:function(e){return function(){var t=Object(v.a)(w.a.mark((function t(n){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Updating form."),t.next=3,G.put("/api/profile",e);case 3:a=t.sent,console.log(a),n({type:h,payload:a.data});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},Te=Object(i.b)((function(e){return{auth:e}}),Ee)((function(e){var t=Object(a.useState)({}),n=Object(Z.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)({}),o=Object(Z.a)(r,2),i=o[0],l=o[1],j=Object(S.g)();Object(a.useEffect)((function(){var t={};e.location&&!e.location.state?(console.log("api called."),G.get("/api/profile").then((function(e){s(e.data),console.log(e.data),Object.keys(e.data).forEach((function(e){console.log(e),t[e]=""})),console.log(t),l(t)}))):e.location&&(s(e.location.state),Object.keys(e.location.state).forEach((function(e){console.log(e),t[e]=""})),console.log(t),l(t))}),[]);var u=Object.keys(c);if(!u.length)return Object(M.jsx)(H,{});var d=function(){var e=!1;for(var t in i){var n=c[t];if(console.log(t,n),n?i[t]="":(e=!0,i[t]="This field is required."),"phone"===t){/^[+]?(\d{1,2})?[\s.-]?\(?\d{3}\)?[\s.-]?\d{3}[\s.-]?\d{4}$/.test(n)?i[t]="":(e=!0,i[t]="Please enter a valid Phone Number")}}return e},b=function(){var t=Object(v.a)(w.a.mark((function t(n){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!d()){t.next=3;break}return console.log("Fill the form properly."),t.abrupt("return");case 3:return n.preventDefault(),console.log("changing user."),t.next=7,e.updateUser(c);case 7:e.location.state?j.push("/profile"):j.push("/form");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return d(),console.log("The errors are:",i),Object(M.jsx)("div",{className:"ProfileEdit",children:Object(M.jsxs)(P.a,{onSubmit:b,className:"form_edit",children:[u.map((function(e,t){return console.log(i,e,i[e]),Object(M.jsxs)(P.a.Group,{controlId:e,children:[Object(M.jsx)(P.a.Label,{className:"title",children:"phone"===e?"Phone Number (Preferably Whatsapp)":"roll"===e?"Roll Number":(n=e,n.charAt(0).toUpperCase()+n.slice(1))}),Object(M.jsx)(P.a.Control,{value:c[e],onChange:function(t){return s(Object(x.a)(Object(x.a)({},c),{},Object(m.a)({},e,t.target.value)))},required:!0,isInvalid:i[e],isValid:!i[e],autoComplete:"off"}),Object(M.jsx)(P.a.Control.Feedback,{type:"invalid",children:i[e]})]},t);var n})),Object(M.jsx)("div",{className:"wrap button-edit",onClick:function(e){return b(e)},children:Object(M.jsx)("a",{className:"btn",children:Object(M.jsx)("span",{className:"google_text",children:e.location.state?"SAVE":"NEXT"})})})]})})})),Re=function(e){Object(C.a)(n,e);var t=Object(k.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).loading=c.a.createRef(),a.routes=c.a.createRef(),a}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=Object(v.a)(w.a.mark((function e(){var t=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.fetchUser();case 2:this.loading.current.classList.add("loading"),setTimeout((function(){t.loading.current.style.display="none",t.routes.current.classList.add("main_part")}),1e3);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=!this.props.user;return Object(M.jsxs)("div",{className:"App",children:[Object(M.jsx)("div",{className:"Loader",ref:this.loading,children:Object(M.jsx)("img",{class:"image_loader",src:I})}),e?null:Object(M.jsx)("div",{ref:this.routes,style:{opacity:"0"},children:Object(M.jsx)(R.a,{classNames:"fade",timeout:300,appear:!0,children:Object(M.jsxs)(F.a,{children:[Object(M.jsx)(Fe,{}),Object(M.jsx)("div",{class:"remaining_page",children:Object(M.jsxs)(S.d,{children:[Object(M.jsx)(S.b,{exact:!0,component:$,path:"/",user:this.props}),this.props.user.authenticated?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(S.b,{component:J,path:"/form"}),Object(M.jsx)(S.b,{exact:!0,component:_e,path:"/profile"}),Object(M.jsx)(S.b,{exact:!0,component:Te,path:"/profile/edit"}),this.props.user.isadmin?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(S.b,{exact:!0,component:pe,path:"/admin"}),Object(M.jsx)(S.b,{component:Ge,path:"/admin/responses/:id"})]}):""]}):"",Object(M.jsx)(S.a,{to:"/"})]})})]})},"location")})]})}}]),n}(a.Component),Ie={fetchUser:_},Ae=Object(i.b)((function(e){return{user:e.auth}}),Ie)(Re),Me=n(81);window.axios=G;var De=Object(l.createStore)(f,{},Object(Me.composeWithDevTools)(Object(l.applyMiddleware)(o.a)));r.a.render(Object(M.jsx)(i.a,{store:De,children:Object(M.jsx)(Ae,{})}),document.getElementById("root"))}},[[141,1,2]]]);
//# sourceMappingURL=main.7092c6bd.chunk.js.map